/* COLORES PRINCIPALES */
:root {
    --color-fondo: #FFFFFF;
    --color-texto-principal: #000000;
    --color-texto-secundario: #ABADAA;

    --color-navbar: #007341;
    --color-texto-nav: #FFFFFF;
    --color-hover-nav: #BDC224;

    --color-acento: #84AF3B;
}

/* ESTILO GENERAL */
body {
    font-family: 'Helvetica Neue', Arial, sans-serif;
    background-color: var(--color-fondo);
    color: var(--color-texto-principal);
    margin: 0;
    padding-top: 65px;
    /* Espacio para el navbar fijo */
    line-height: 1.6;
}

/* Colores DARKS */
body.dark-mode {
    background-color: #1C1A1B;
    color: #FFFFFF;
}


/* ============== */
/* --- NAVBAR --- */
/* ============== */
.navbar {
    position: fixed;
    top: 0;
    width: 100%;
    background-color: var(--color-navbar);
    padding: 10px 0px;
    /* Espacios horizontales */
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    display: flex;
    justify-content: space-between;
    /* Clave: empuja los 3 elementos a los extremos */
    align-items: center;
}

body.dark-mode .navbar-links a {
    color: #FFFFFF;
}

body.dark-mode a {
    color: var(--color-acento);
}

body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h3 {
    color: #FFFFFF;
}


/* ============== */
/* --- NAVBAR --- */
/* ============== */

.navbar-brand {
    font-size: 1.6em;
    font-weight: bold;
    margin-left: 40px;
    letter-spacing: 0.5px;
    color: var(--color-texto-nav);
    text-decoration: none;
    display: flex;
    align-items: center;
}

/* Enlace principal (home) dentro del brand */
.navbar-brand a {
    color: white;
    /* Color blanco para el hover en el título */
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 0;
    /* Elimina el gap interno para controlar el espaciado manualmente */
}

body.dark-mode .navbar-brand .brand-text {
    color: #FFFFFF;
}

/* Estilo para el enlace "Sobre nosotros" */
.navbar-brand>a:last-child {
    /* Estilos del enlace Sobre Nosotros, junto al Brand */
    color: white;
    font-size: 0.8em;
    text-decoration: none;
    padding: 8px 10px;
    /* Pequeño padding para que se vea como botón */
}

.navbar-brand>a:last-child:hover {
    background-color: var(--color-hover-nav);
    border-radius: 4px;
}

.navbar-brand img {
    height: 30px;
    /* Tamaño del ícono */
    width: auto;
}

.navbar-links {
    /* flexbox para controlar mejor el espaciado y la alineación */
    display: flex;
    align-items: center;
    gap: 10px;
}

.navbar-links a {
    font-size: 0.9 em;
    font-weight: 500;
    padding: 8px 8px;
    text-decoration: none;
    color: var(--color-texto-nav);
    white-space: nowrap;
    /* Evita que el texto de los botones se divida en dos líneas */
}

.navbar-links a:hover {
    background-color: var(--color-acento);
    /* Acento al pasar el ratón */
    background-color: var(--color-hover-nav);
}


/* ========================= */
/* --- BARRA DE BÚSQUEDA --- */
/* ========================= */

/* Contenedor externo (extiende de lado a lado) */
.search-bar-full-width {
    background-color: var(--color-fondo);
    padding: 15px 0;
    margin-bottom: 20px;
}

body.dark-mode .search-bar-full-width {
    background-color: #1C1A1B !important;
}

/* Contenedor interno que se centra */
.search-bar-inner-container {
    max-width: 600px;
    width: 90%;
    /* Asegura que en pantallas chicas no toque los bordes */
    margin: 0 auto;
    padding: 15px;
    border: 1px solid var(--color-acento);
    border-radius: 8px;
    background-color: var(--color-fondo);
}

body.dark-mode .search-bar-inner-container {
    /* El contenedor interno también usa el fondo principal */
    background-color: #1C1A1B !important;
    border-color: var(--color-acento) !important;
}

/* Elementos del formulario */
.search-input {
    flex-grow: 1;
    padding: 10px;
    border: 1px solid var(--color-texto-secundario);
    border-radius: 4px;
    color: var(--color-texto-principal);
    background-color: white;
}

body.dark-mode .search-input {
    /* El input tiene texto claro y fondo oscuro */
    color: #FFFFFF !important;
    background-color: #ffffff;
}

.voice-search-btn {
    background-color: transparent;
    border: 1px solid #ccc;
    border-radius: 50%;
    /* Redondo */
    width: 40px;
    height: 40px;
    cursor: pointer;
    font-size: 1.2em;
    padding: 0;
    margin-left: -5px; /* Pequeño ajuste de espacio */
}

.voice-search-btn:hover {
    background-color: var(--color-hover-nav);
}

/* Estilo cuando está escuchando */
.voice-search-btn.listening {
    background-color: #FF5C5C;
    /* Rojo "grabando" */
    color: white;
    border-color: #FF5C5C;
}

/* Botón LUPA */
.search-button {
    padding: 10px 20px;
    background-color: var(--color-acento);
    color: var(--color-texto-nav);
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
}

/* BORRAR búsqueda */
.search-clear-link {
    text-decoration: none;
    color: var(--color-texto-principal);
    padding: 10px;
    font-size: 0.9em;
}

body.dark-mode .search-clear-link {
    color: var(--color-texto-secundario);
}


/* ============== */
/* --- FOOTER --- */
/* ============== */

.main-footer {
    background-color: var(--color-navbar);
    color: #FFFFFF;
    padding: 40px 0;
    margin-top: 50px;
    font-size: 0.9em;
}

body.dark-mode .main-footer {
    background-color: var(--color-navbar);
    color: #FFFFFF;
}

.footer-container {
    display: flex;
    justify-content: space-between;
    max-width: 1100px;
    margin: 0 auto;
    padding: 0 20px;
    flex-wrap: wrap;
}

.footer-col {
    flex-basis: 20%;
    /* 5 columnas */
    min-width: 150px;
    margin-bottom: 20px;
}

.footer-col h4 {
    color: var(--color-acento);
    font-size: 1.1em;
    border-bottom: 1px solid var(--color-texto-nav);
    padding-bottom: 8px;
    margin-bottom: 15px;
}

.footer-col a {
    color: var(--color-texto-nav);
    text-decoration: none;
    display: block;
    margin-bottom: 5px;
    transition: color 0.2s;
}

.footer-col a:hover {
    color: var(--color-acento);
}

.footer-copy {
    text-align: center;
    margin-top: 30px;
    padding-top: 15px;
    border-top: 1px solid #FFFFFF;
}


/* ===================== */
/* --- CARRUSEL HOME --- */
/* ===================== */
.carousel-wrapper {
    position: relative;
    max-width: 1100px; /* Ancho máximo para el carrusel */
    margin: 40px auto;
    padding: 0 50px; /* Espacio para los botones de navegación */
}

.carousel-title {
    margin-bottom: 25px;
    font-size: 1.8em;
    color: var(--color-navbar);
}

.carousel-content {
    display: flex; /* Los ítems se alinean horizontalmente */
    overflow-x: scroll; /* Desplazamiento horizontal */
    scroll-snap-type: x mandatory; /* Desplazamiento más suave entre ítems */
    -webkit-overflow-scrolling: touch; /* Suaviza el scroll en iOS */
    gap: 20px; /* Espacio entre las tarjetas */
    padding-bottom: 20px; /* Espacio para la barra de desplazamiento */
    /* Ocultar scrollbar */
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none;  /* MS Edge */
}

/* Ocultar scrollbar para Webkit (Chrome, Safari) */
.carousel-content::-webkit-scrollbar {
    display: none;
}

.carousel-item-card {
    flex: 0 0 calc(25% - 15px); /* Mostrar 4 ítems con gap */
    min-width: calc(25% - 15px);
    height: auto; /* Altura automática basada en el contenido */
    display: flex; 
    flex-direction: column;
    border: 1px solid #FFFFFF;
    border-radius: 8px;
    overflow: hidden;
    background-color: #FFFFFF;
    scroll-snap-align: start; /* Para el scroll-snap-type */
    transition: transform 0.2s ease-in-out;
}

.carousel-item-card:hover {
    transform: translateY(-5px); /* Efecto al pasar el mouse */
}

/* Modo Oscuro para las tarjetas del carrusel */
body.dark-mode .carousel-item-card {
    background-color: var(--color-fondo);
    border-color: #444;
}

.carousel-nav-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(0, 0, 0, 0.6);
    color: white;
    border: none;
    padding: 15px 10px;
    cursor: pointer;
    font-size: 2em;
    z-index: 10;
    border-radius: 5px;
    transition: background-color 0.3s;
}

.carousel-nav-btn:hover {
    background-color: rgba(0, 0, 0, 0.8);
}

.carousel-nav-btn.prev {
    left: 0;
}

.carousel-nav-btn.next {
    right: 0;
}

/* Ajustes para pantallas más pequeñas (opcional, pero recomendado) */
@media (max-width: 768px) {
    .carousel-item-card {
        flex: 0 0 calc(50% - 10px); /* Mostrar 2 ítems en pantallas medianas */
        min-width: calc(50% - 10px);
    }
    .carousel-wrapper {
        padding: 0 20px;
    }
}

@media (max-width: 480px) {
    .carousel-item-card {
        flex: 0 0 100%; /* Mostrar 1 ítem en pantallas muy pequeñas */
        min-width: 100%;
    }
}


/* ======================== */
/* --- ACORDEÓN 'ABOUT' --- */
/* ======================== */

.accordion-header {
    background-color: var(--color-acento);
    color: white;
    padding: 15px;
    cursor: pointer;
    font-size: 1.1em;
    font-weight: bold;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

body.dark-mode .accordion-header {
    background-color: var(--color-acento);
}

.accordion-header:hover {
    background-color: var(--color-hover-nav);
}

body.dark-mode .accordion-header:hover {
    background-color: var(--color-hover-nav);
}

.accordion-content {
    padding: 0 15px;
    background-color: var(--color-fondo);
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease-in-out, padding 0.4s ease-in-out;
}

body.dark-mode .accordion-content {
    background-color: #1C1A1B;
}

.accordion-content.active {
    max-height: 500px;
    padding: 15px;
}

.accordion-content p {
    margin-top: 10px;
    margin-bottom: 10px;
}

.accordion-icon {
    font-size: 1.5em;
    transition: transform 0.3s;
}

.accordion-icon.active {
    transform: rotate(45deg); /* Gira el '+' para indicar cierre */
}

.accordion-item {
    margin-bottom: 10px;
    border: 1px solid var(--color-texto-secundario);
    border-radius: 4px;
    overflow: hidden;
    transition: background-color 0.3s;
}

body.dark-mode .accordion-item {
    border-color: var(--color-texto-secundario);
}


/* ========================= */
/* --- CATÁLOGO COMPLETO --- */
/* ========================= */
.catalogo-main-container {
    display: flex;
    max-width: 1200px;
    margin: 40px auto;
    padding: 0 20px;
    gap: 40px;
}

.catalogo-sidebar {
    flex: 0 0 180px; /* Ancho fijo para la barra lateral (filtros y orden) */
    min-width: 180px;
    padding-right: 30px;
    flex-shrink: 0;
    padding: 15px;
    border-right: none;
    transition: border-color 0.3s ease;
}

.catalogo-productos-section {
    flex-grow: 1; /* El contenido de productos ocupa el resto del espacio */
}

/* --- CONTROLES SUPERIORES (Vista y Conteo) --- */
.catalogo-controles-superiores {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    padding-bottom: 10px;
    border-bottom: none;
    gap: 15px;
}

.controles-izquierda-agrupados {
    display: flex;
    align-items: center;
    gap: 20px; /* Espaciado entre los elementos de control */
    /* Permite que este grupo se expanda y use el espacio de la izquierda */
    flex-grow: 1; 
}


/* --- SELECTOR DE VISTA (CUADRÍCULA/LISTA) --- */
.view-switcher {
    display: flex;
    border: 1px solid var(--color-acento);
    border-radius: 4px;
    overflow: hidden;
    margin: 0 auto; /* Centrado dentro de su contenedor (si no hay justify-content) */
}

.view-btn {
    padding: 8px 15px;
    text-decoration: none;
    color: var(--color-acento);
    background-color: white;
    transition: background-color 0.2s;
}

.view-btn.active {
    background-color: var(--color-acento);
    color: white;
    font-weight: bold;
}

.view-btn:hover:not(.active) {
    background-color: #f0f0f0;
}

/* Contenedor principal de contenido */
.content-container {
    padding: 20px 40px;
}

/* --- VISTA DE CUADRÍCULA (GRID VIEW) - Estilos existentes --- */
.productos-listado-container.grid-view {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
}

/* Contenedor principal del catálogo para activar la cuadrícula */
.catalogo-grid {
    display: grid;
    /* 3 columnas de igual ancho (1fr) */
    grid-template-columns: 1fr 1fr 1fr;
    /* Para que sea más responsive */
    gap: 25px;
    margin-top: 20px;
}

/* --- VISTA DE LISTA --- */
.productos-listado-container.list-view {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.list-item-producto {
    border: 1px solid #ddd;
    border-radius: 8px;
    background-color: white;
    transition: box-shadow 0.2s;
}

.list-item-producto a {
    display: flex;
    align-items: center;
    padding: 15px;
    text-decoration: none;
    color: #333;
}

.list-item-producto:hover {
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.list-image-container {
    flex-shrink: 0;
    width: 100px;
    height: 100px;
    margin-right: 15px;
}

.list-image-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 4px;
}

.list-details {
    flex-grow: 1;
}

.list-price-action {
    flex-shrink: 0;
    text-align: right;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    margin-left: 20px;
}

.list-price-action .producto-precio {
    font-size: 1.5em;
    font-weight: bold;
    color: var(--color-acento);
    margin-bottom: 10px;
}

/* --- ESTILOS DE PAGINACIÓN --- */
.pagination-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 30px;
}

/* (Añadir o modificar otros estilos de paginación si es necesario, 
   usando .page-link, .current-page-info, etc.) */

/* --- DARK MODE OVERRIDES --- */
body.dark-mode .list-item-producto {
    background-color: var(--color-fondo);
    border-color: #444;
}


/* Estilo de los productos/tarjetas para acentuación */
.card-producto {
    display: block;
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 0px;
    margin-bottom: 15px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
    overflow: hidden;
    position: relative;
    /* Necesario para el overlay */
    height: auto;
    /* Permitimos que la altura se ajuste al contenido */
}

body.dark-mode .card-producto {
    background-color: #2D3E2D;
    /* Fondo oscuro para tarjetas */
    border-color: #444;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
}

.card-producto h3 {
    color: var(--color-navbar);
    margin-top: 0;
}

/* Contenido de texto de la tarjeta */
.card-content {
    padding: 10px;
    padding-bottom: 35px;
    /* Aumentar el padding inferior para asegurar espacio para el texto posicionado */
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    /* CRUCIAL: Distribuye el contenido verticalmente */
    position: relative;
    /* Contenedor de referencia para los elementos inferiores */
    min-height: 120px;
    /* Asegura un mínimo de altura para la información */
}

/* Limitación a 2 líneas para Artista y Álbum */
.card-content h3 {
    color: var(--color-navbar);

    font-size: 1.1em;
    font-weight: 600;
    line-height: 1.25;
    /* Altura fija */
    margin-bottom: 8px;
    /* Espacio debajo del título */
    margin-top: 0;

    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    /* Limitar a dos líneas */
    line-clamp: 2;
    overflow: hidden;

    text-overflow: ellipsis;
    height: calc(1.3em * 2);
}

/* Limitar el artista y el título a dos líneas (CSS Truncation) */
.producto-info h4 {
    /* Estilo original de título/artista/álbum */
    font-size: 1em;
    font-weight: 600;
    line-height: 1.3;
    /* Implementación de limitación a 2 líneas */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    /* Limitar a dos líneas */
    line-clamp: 2;
    overflow: hidden;
    text-overflow: ellipsis;
    height: calc(1.3em * 2);
    /* Altura fija para evitar saltos de diseño */
    margin-bottom: 5px;
}

/* Ajuste necesario para que la posición absoluta del vendedor funcione */
.producto-info {
    position: relative;
    /* Contenedor de referencia para el vendedor */
    padding: 10px;
    padding-bottom: 30px;
    /* Aumentamos el padding inferior para hacer espacio al vendedor */
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
}

/* Estilo del Vendedor (Izquierda, Abajo) */
.producto-vendedor {
    font-size: 0.8em;
    color: #444;
    text-align: left;
    /* Posicionamiento: Abajo a la izquierda */
    position: absolute;
    left: 15px;
    bottom: 10px;
    z-index: 10;
    /* Asegurar que esté por encima de otros elementos */
}

.producto-precio-label {
    font-size: 0.8em;
    font-weight: normal ;
    color: var(--color-texto-principal);
    text-align: right;
    display: block;
    margin-bottom: -5px;
    /* Acerca la etiqueta al precio */
    position: absolute;
    right: 15px;
    bottom: 45px;
    /* Posiciona la etiqueta justo encima del precio */
    z-index: 10;
}

/* Estilo del Precio (Grande, Derecha, Abajo) */
.producto-precio {
    font-size: 1.5em;
    /* Agrandamos el precio */
    font-weight: bold;
    color: var(--color-acento);
    /* Color de acento */
    /* Posicionamiento: Abajo a la derecha */
    position: absolute;
    right: 15px;
    bottom: 10px;
    z-index: 10;
    margin-top: auto; /* Empuja el precio hacia abajo si hay espacio */
}


/* Estilo para la imagen de portada */
.card-image-container {
    width: 100%;
    height: 250px;
    background-color: #f0f0f0;
    padding: 10px;
    overflow: hidden;
    display: flex; /* Para centrar la imagen */
    position: relative;
    /* Fondo para el espacio vacío que deja 'contain' */
    justify-content: center;
    align-items: center;
}

.card-image {
    width: 100%;
    height: 100%;
    /* MOSTRAR LA RELACIÓN DE ASPECTO CORRECTA */
    object-fit: contain;
    display: block;
}

/* Estilo de la Metainformación para evitar que el texto de metainfo caiga en el espacio del vendedor/precio */
.card-metadata {
    font-size: 0.85em;
    color: #ffffff;
    margin-bottom: 30px;
    /* Separación extra para que el texto de "País" no toque el vendedor */
    padding-right: 70px;
    /* Añadir padding derecho para que el texto no toque el precio */
}

/* Menú desplegable */
.dropdown {
    position: relative;
    display: inline-block;
    /* Permite que el elemento sea parte de la línea */
}

.dropdown-content {
    display: none;
    /* Oculto por defecto */
    position: absolute;
    background-color: var(--color-navbar);
    /* Fondo del navbar */
    min-width: 180px;
    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
    z-index: 1001;
    /* Asegura que esté sobre el contenido */
    padding-top: 5px;
    border-radius: 0 0 4px 4px;
    border-top: 3px solid var(--color-acento);
    /* Línea de acento */
}

.dropdown-content a {
    color: var(--color-texto-nav);
    padding: 10px 14px !important;
    font-size: 1em;
    /* Mantenemos tamaño normal dentro del desplegable */
    text-decoration: none;
    display: block;
    text-align: left;
    margin: 0 !important;
    margin-left: 0 !important;
    /* Sobrescribe el margin del navbar */
}

.dropdown-content a:hover {
    background-color: var(--color-acento);
    /* Acento al pasar el ratón */
    color: var(--color-navbar);
}

.dropdown:hover .dropdown-content {
    display: block;
    /* Muestra el menú al pasar el ratón */
}

/* ============================ */
/* --- DETALLE DEL PRODUCTO --- */
/* ============================ */

/* Contenedor principal de la info (info + imagen) */
.detalle-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 40px;
    margin-top: 20px;
    padding-bottom: 20px;
    border-bottom: 2px solid #f0f0f0;

    max-width: 1100px;
    margin: 20px auto; /* Centra el grid horizontalmente */

    align-items: flex-start;
}

/* Columna de la Imagen */
.detalle-imagen-col {
    flex: 0 0 auto;
    /* No permite crecer, se adapta a su contenido */
    width: 300px;
    /* ⚠️ Tamaño fijo de la columna de imagen */
    min-width: 300px;
    /* Asegura que no se achique más allá */
    height: 300px;
    /* Altura igual al ancho para un aspecto cuadrado */
    border-radius: 8px;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
    position: relative;
    /* Para el botón de zoom */
    overflow: hidden;
    /* Asegura que la imagen no sobresalga */
    background-color: #f0f0f0;
    /* Fondo para el 'contain' */
    cursor: pointer;
    /* Indica que la imagen es clickeable */
}

.detalle-imagen {
    width: 100%;
    height: 100%;
    object-fit: contain;
    /* Mostrar imagen completa, no recortar */
    border-radius: 8px;
    /* Hereda el borde redondeado */
}

/* Botón de Zoom */
.zoom-button {
    position: absolute;
    bottom: 5px;
    right: 5px;
    background-color: rgba(0, 0, 0, 0.7);
    /* Fondo semi-transparente */
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 0.8em;
    cursor: pointer;
    z-index: 10;
    transition: background-color 0.2s;
}

.zoom-button:hover {
    background-color: rgba(0, 0, 0, 0.9);
}

/* Columna de Información (Permite que crezca y ocupe el espacio restante) */
.detalle-info-col {
    flex: 1 1 400px;
    min-width: 0;
}

/* Título y Artista (Ya definidos en el HTML) */
.detalle-info-col h1 {
    font-size: 2.2em;
    line-height: 1.2;
    margin-bottom: 0;
    margin-top: 0;

    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
    /* Límite de 3 líneas (o 2 si se quiere) */
    line-clamp: 2;
    overflow: hidden;
    text-overflow: ellipsis;

    /* Opcional: Definir una altura máxima si el truncamiento no es suficiente */
    /* max-height: calc(2.2em * 1.2 * 3); */
    /* (font-size * line-height * line-clamp) */
}

/* Añadir un pequeño espacio solo al H1 del álbum */
.detalle-info-col h1+h1 {
    margin-top: 5px;
    /* Espacio pequeño entre artista y álbum */
    font-size: 2em;
    /* Opcional: hacerlo un poco más pequeño que el artista */
}

.detalle-info-col .vendedor-info {
    font-size: 1.1em;
    color: var(--color-texto-secundario);
    margin-bottom: 15px;
}

/* Precio */
.precio-detalle {
    font-size: 2.8em;
    font-weight: 900;
    /* Más grueso */
    color: var(--color-navbar);
    margin: 10px 0;
}

/* Botón de Añadir al Carrito */
.btn-add-to-cart {
    /* Reducimos el padding horizontal para que sea solo 10px más ancho */
    display: inline-block;
    /* ⚠️ CAMBIO: de 'block' a 'inline-block' */
    padding: 10px 20px;
    /* ⚠️ CAMBIO: Padding reducido */
    margin-bottom: 30px;
    background-color: var(--color-acento);
    color: var(--color-texto-nav);
    border: none;
    border-radius: 6px;
    font-size: 1.1em;
    /* Un poco más chico */
    font-weight: bold;
    cursor: pointer;
    text-align: center;
    transition: background-color 0.2s;
}

.btn-add-to-cart:hover {
    background-color: var(--color-hover-nav);
    /* Un verde acento más oscuro */
}

/* Tabla de Metadatos (Diseño más limpio) */
.metadata-tabla {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
}

.metadata-tabla td {
    padding: 10px 5px;
    /* Quita el borde inferior y usa 'row' para un estilo más moderno */
}

/* Estilo para las filas de la tabla */
.metadata-tabla tr {
    border-bottom: 1px solid #f0f0f0;
    /* Borde muy sutil */
}

.metadata-tabla td:first-child {
    font-weight: bold;
    color: #555;
    width: 30%;
}

/* Estilos de Stock */
.stock-alto {
    color: green;
    font-weight: bold;
}

.stock-alerta {
    color: #E67E22;
    font-weight: bold;
}

.stock-agotado {
    color: red;
    font-weight: bold;
}

/* Descripción Larga del Vendedor */
.descripcion-larga {
    margin-top: 30px;
    max-width: 800px;
    /* Límite de ancho para que no ocupe toda la página */
    margin-left: auto;
    margin-right: auto;
    padding: 0 20px;
    /* Para que no se pegue a los bordes en pantallas chicas */
}

.descripcion-larga h2 {
    text-align: left;
    /* Centrar el título de la descripción */
    border-bottom: 2px solid var(--color-acento);
    padding-bottom: 5px;
    margin-bottom: 20px;
}

.descripcion-larga p {
    white-space: pre-wrap;
    line-height: 1.8;
    font-size: 1.1em;
    color: var(--color-texto-principal);
    text-align: justify;
    /* Justifica el texto para mejor lectura */
}

/* --- MODAL DE ZOOM DE LA IMAGEN --- */

/* Contenedor que envuelve la imagen y el botón X */
.modal-wrapper {
    position: relative;
    display: flex; /* Centrar la imagen */
    justify-content: center;
    align-items: center;

    /* El max-width y max-height del modal-wrapper deben ser un poco más grandes que la imagen para que la "X" tenga espacio fuera de ella */
    max-width: 95vw;
    max-height: 95vh;
}

.modal-content {
    max-width: 90vw;
    max-height: 90vh;
    /* border-radius: 8px; */
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    transition: transform 0.3s ease-out;
    /* Animación de entrada */
}

.image-zoom-modal {
    display: none; /* Oculto por defecto */
    position: fixed; /* Fijo en la pantalla */
    z-index: 1000; /* Por encima de todo */
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto; /* Permite scroll si la imagen es muy grande */
    background-color: rgba(0, 0, 0, 0.8); /* Fondo oscuro semi-transparente */

    justify-content: center;
    align-items: center;
    backdrop-filter: blur(5px); /* Desenfoque */
}

/* Botón de cerrar (la 'x') */
.close-button {
    position: absolute;
    top: -25px;
    /* Ajusta este valor si 10px es muy poco */
    right: -25px;
    color: #f1f1f1;
    font-size: 30px;
    /* Reducido para que no sea tan invasivo */
    font-weight: bold;
    cursor: pointer;
    background-color: rgba(0, 0, 0, 0.5);
    /* Fondo sutil para mejor visibilidad */
    border-radius: 50%;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    padding-bottom: 3px;
    /* Ajuste fino vertical del 'x' */
}

.close-button:hover,
.close-button:focus {
    color: var(--color-texto-secundario);
    text-decoration: none;
    cursor: pointer;
}


/* Botón de Favoritos (Corazón) en el Catálogo */
.favorite-btn-wrapper {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 20; /* Por encima de la imagen */
}

.favorite-btn {
    background-color: rgba(255, 255, 255, 0.7);
    border: none;
    border-radius: 50%;
    padding: 8px 10px;
    cursor: pointer;
    font-size: 1.2em;
    line-height: 1;
    transition: transform 0.2s ease;
}

.favorite-btn:hover {
    transform: scale(1.1);
}

.favorite-btn.favorited {
    color: red;
    /* Corazón relleno */
}

/* Botón de favorito en la PÁGINA DE DETALLE */
.btn-favorito-detalle {
    /* Hereda la altura del botón de carrito */
    padding: 10px 15px;
    font-size: 1.5em;
    /* Ícono grande */
    line-height: 1;
    background-color: #f0f0f0;
    color: #333;
    border: 1px solid #ccc;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.2s, border-color 0.2s;
}

.btn-favorito-detalle:hover {
    background-color: #e0e0e0;
}

/* Cuando está 'favorited' (rojo) */
.btn-favorito-detalle.favorited {
    background-color: #FADBD8;
    /* Rojo pálido */
    color: #C0392B;
    /* Rojo oscuro */
    border-color: #C0392B;
}


/* ================================= */
/* --- MENSAJES FLASH (FEEDBACK) --- */
/* ================================= */

.message-container {
    margin: 20px auto;
    width: 100%;
    max-width: 1100px;
    /* Ancho máximo para alinearse con el detalle-grid */
}

.alert {
    padding: 15px;
    margin-bottom: 15px;
    border: 1px solid transparent;
    border-radius: 4px;
    font-size: 1em;
    font-weight: 500;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.close-btn {
    margin-left: 15px;
    color: inherit;
    font-weight: bold;
    font-size: 1.2em;
    line-height: 1;
    cursor: pointer;
    transition: color 0.3s;
}


/* ======================== */
/* --- CLASES DE ESTADO --- */
/* ======================== */

/* ÉXITO (Success) */
.alert-success {
    color: #155724;
    background-color: #d4edda;
    border-color: #c3e6cb;
}

body.dark-mode .alert-success {
    color: #c3e6cb;
    background-color: #2b5f3a;
    border-color: #3d794e;
}

/* ERROR (/Danger) */
.alert-error,
.alert-danger {
    color: #721c24;
    background-color: #f8d7da;
    border-color: #f5c6cb;
}

/* ADVERTENCIA (Warning) */
.alert-warning {
    color: #856404;
    background-color: #fff3cd;
    border-color: #ffeeba;
}

body.dark-mode .alert-warning {
    color: #ffc107;
    background-color: #a87e00;
    border-color: #c99f00;
}

/* INFORMACIÓN (Info) */
.alert-info {
    color: #004085;
    background-color: #cce5ff;
    border-color: #b8daff;
}

body.dark-mode .alert-info {
    color: #90c2ff;
    background-color: #004085;
    border-color: #1a569b;
}


/* Barra de búsqueda */


/* Barra de filtros */
body.dark-mode div[style*="border-right: 1px solid #eee"] {
    border-right-color: #333 !important;
}

body.dark-mode .catalogo-sidebar {
    border-right-color: var(--color-texto-principal);
    /* Blanco/Gris claro */
}

/* REGLA MODO OSCURO: "Limpiar filtros" blanco */
/* (Seleccionamos el enlace específico dentro del sidebar) */
body.dark-mode .catalogo-sidebar a[href="{% url 'catalogo' %}"] {
    color: var(--color-texto-principal) !important;
    /* Forzar blanco/gris claro */
}

/* Precio y acentos */
body.dark-mode .precio {
    color: var(--color-acento);
    /* Usa el acento del tema oscuro */
}

body.dark-mode .producto-precio {
    color: var(--color-acento);
}


/* ⚠️ "Publicado por x" blanco */
body.dark-mode .producto-vendedor {
    color: var(--color-texto-principal);
    /* Blanco/Gris claro */
}

/* ⚠️ Etiqueta "Precio:" (para que combine) */
body.dark-mode .producto-precio-etiqueta {
    color: #ccc;
}


/* --- Modo Oscuro: Detalle --- */
body.dark-mode .detalle-grid {
    border-bottom-color: #333;
}

body.dark-mode .metadata-tabla tr {
    border-bottom-color: #333;
}

body.dark-mode .metadata-tabla td:first-child {
    color: #bbb;
}

body.dark-mode .detalle-imagen-col {
    background-color: #2D3E2D;
    /* Fondo verde oscuro para el contain */
}

body.dark-mode .descripcion-larga p {
    color: #ccc;
    /* Texto claro */
}

body.dark-mode .descripcion-larga h2 {
    border-bottom-color: var(--color-acento);
}

body.dark-mode .vendedor-info {
    color: #888;
}



/* Modo Oscuro para el botón de favorito */
body.dark-mode .btn-favorito-detalle {
    background-color: #444;
    color: #eee;
    border-color: #666;
}

body.dark-mode .btn-favorito-detalle.favorited {
    background-color: #573a3a;
    /* Rojo oscuro de fondo */
    color: #f7aaaa;
    /* Corazón rosa/rojo */
    border-color: #f7aaaa;
}

/* ---  MODO OSCURO (Formularios Login) --- */

/* Regla general para inputs en modo oscuro
    Soluciona fondo blanco en el campo de contraseña.
    Color de texto oscuro (los '***' y el usuario) */

body.dark-mode input[type="text"],
body.dark-mode input[type="password"] {

    /* Soluciona el color del texto (Usuario y ***) */
    color: var(--color-texto-principal) !important;
    /* Texto blanco/claro */

    /* Soluciona el fondo (Contraseña) */
    background-color: #333333;
    /* Fondo oscuro (el mismo del input de usuario) */

    /* Estilo de borde consistente */
    border: 1px solid #555555 !important;
}

/* Arreglo para el 'autofill' de Chrome (que fuerza fondo blanco)
    Esto es un 'hack' conocido para sobrescribir los estilos de Chrome. */
body.dark-mode input:-webkit-autofill,
body.dark-mode input:-webkit-autofill:hover,
body.dark-mode input:-webkit-autofill:focus,
body.dark-mode input:-webkit-autofill:active {

    /* Fuerza al texto a ser del color que queremos */
    -webkit-text-fill-color: var(--color-texto-principal) !important;

    /* Un 'box-shadow' simula el fondo oscuro, engañando a Chrome */
    -webkit-box-shadow: 0 0 0 30px #333333 inset !important;
}


/* Estilo Base del Botón de Publicar (Gris Oscuro) */
.btn-publicar-dark {
    /* Clase que usas para el botón de Publicar (asumido del home.html) */
    background-color: #555 !important;
    color: white !important;
    transition: background-color 0.2s ease;
}

/* Hover del botón de Publicar (Modo Claro) */
.btn-publicar-dark:hover {
    background-color: var(--color-acento) !important; /* Verde claro al pasar el mouse */
    color: var(--color-navbar) !important; /* Texto oscuro */
}

/* Hover del botón de Publicar (Modo Oscuro) */
body.dark-mode .btn-publicar-dark {
    background-color: #444 !important;
    color: white !important;
}

body.dark-mode .btn-publicar-dark:hover {
    background-color: #777 !important; /* Gris más claro al pasar el mouse */
}

/* Contenedor principal de la página del carrito */
.carrito-container {
    max-width: 900px;
    margin: 40px auto;
    padding: 20px;
    background-color: var(--color-fondo);
}

.item-card {
    display: flex;
    align-items: center;
    border: 1px solid #ddd;
    border-radius: 6px;
    margin-bottom: 15px;
    padding: 15px;
    background-color: white;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}

body.dark-mode .item-card {
    background-color: var(--color-fondo);
    border-color: #444;
}

/* Estilo para cada línea de venta en el panel */
.sales-item-line {
    display: flex;
    /* Activa Flexbox para separación horizontal */
    justify-content: space-between;
    /* Empuja los ítems a los extremos */
    align-items: center;
    /* Alineación vertical */
    padding: 10px 0;
    border-bottom: 1px dashed #f0f0f0;
}

/* Modo Oscuro para la línea divisoria */
body.dark-mode .sales-item-line {
    border-bottom-color: #444;
}

.item-img {
    width: 80px;
    height: 80px;
    object-fit: cover;
    margin-right: 15px;
    border-radius: 4px;
}

.item-details-panel {
    /* Permite que esta columna se achique, pero el texto se envuelve */
    flex-basis: 60%;
    padding-right: 10px;
}

.item-details {
    flex-grow: 1;
}

.item-price {
    font-weight: bold;
    color: green;
}

.item-price-total {
    font-weight: bold;
    color: var(--color-navbar);
    /* Verde oscuro para el total */
    font-size: 1.2em;
}

.total-box {
    margin-top: 30px;
    padding: 20px;
    border: 2px solid var(--color-navbar);
    border-radius: 8px;
    text-align: right;
}

.total-box h2 {
    margin: 0;
}

/* Ajuste del formulario de cantidad */
.cart-qty-form input[type="number"] {
    max-width: 60px;
    text-align: center;
    border-radius: 4px;
    padding: 5px;
    border: 1px solid #ccc;
}

body.dark-mode .cart-qty-form input[type="number"] {
    background-color: #444;
    color: white;
    border-color: #666;
}

.btn-checkout {
    background-color: var(--color-acento);
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
    margin-top: 15px;
}

.btn-remove {
    color: red;
    text-decoration: none;
    margin-left: 10px;
    font-size: 0.9em;
}


/* ======================== */
/* --- LISTA DE PEDIDOS --- */
/* ======================== */

.orders-container {
    max-width: 900px;
    margin: 40px auto;
    padding: 20px;
}

/* Tarjeta de pedido individual */
.order-card {
    border: 1px solid #ddd;
    border-radius: 8px;
    margin-bottom: 20px;
    padding: 20px;
    /*display: flex;*/
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    transition: box-shadow 0.3s ease;
}

.order-card:hover {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

/* Detalles principales del pedido (ID, Fecha) */
.order-summary {
    flex-grow: 1;
}

.order-id {
    font-size: 1.1em;
    font-weight: bold;
    color: var(--color-navbar);
    margin-bottom: 5px;
}

.order-date {
    font-size: 0.9em;
    color: #777;
}

/* Estado del pedido (Color según el estado) */
.order-status {
    text-align: center;
    padding: 5px 10px;
    border-radius: 4px;
    font-weight: bold;
    min-width: 100px;
    margin: 0 20px;
    font-size: 0.9em;
}

.status-Pendiente {
    background-color: #ffeb3b;
    color: #333;
}

.status-Pagado {
    background-color: #a4e58e;
    color: #333;
}

.status-Enviado {
    background-color: #2196f3;
    color: white;
}

.status-Entregado {
    background-color: #4caf50;
    color: white;
}

.status-Cancelado {
    background-color: #f44336;
    color: white;
}

/* Estilo para el estado (usado en el selector y botones) */
.btn-status-update {
    background-color: var(--color-navbar);
    color: white;
    padding: 6px 10px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9em;
    margin-left: 10px;
}

/* Total y botón de acción */
.order-actions {
    text-align: right;
    min-width: 150px;
}

.order-total {
    font-size: 1.4em;
    font-weight: bold;
    color: var(--color-acento);
    margin-bottom: 10px;
}

.btn-details {
    background-color: var(--color-navbar);
    color: white;
    padding: 8px 15px;
    border: none;
    border-radius: 4px;
    text-decoration: none;
    font-size: 0.9em;
    transition: background-color 0.3s;
}

.btn-details:hover {
    opacity: 0.9;
}

/* Mensaje de no hay pedidos */
.empty-message {
    text-align: center;
    padding: 50px;
    border: 1px dashed #ccc;
    border-radius: 8px;
    margin-top: 30px;
}